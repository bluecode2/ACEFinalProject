<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL MAP 2.0//EN"
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="genParam">
	<select id="selectGenParam" resultClass="general.GeneralParamBean" parameterClass="java.util.Map">
		SELECT * FROM ( 
		SELECT 
		genParam.*, ROWNUM rnum from (
		select
		GEN_PARAM_ID 			as genParamId,
		GEN_PARAM_DESC 			as genParamDesc,
		GEN_PARAM_VALUE 		as genParamValue,
		IS_ACTIVE 				as isActive
		from general_parameter
		where 1=1
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="genParamId">
				LOWER(gen_param_id) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="genParamDesc">
				LOWER(Gen_param_DESC) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="genParamValue">
				LOWER(GEN_PARAM_VALUE) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="isActive">
				LOWER(is_active) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		) genParam
		WHERE ROWNUM &lt;= #end#)
		WHERE rnum &gt; #begin#
	</select>

	<select id="countGenParam" resultClass="java.lang.Integer" parameterClass="java.util.Map">
		select count(1) from general_parameter where 1=1
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="genParamId">
				LOWER(gen_param_id) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="genParamDesc">
				LOWER(Gen_param_DESC) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="genParamValue">
				LOWER(GEN_PARAM_VALUE) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
		<dynamic prepend="AND">
			<isEqual property="searchField" compareValue="isActive">
				LOWER(is_active) LIKE LOWER( '%' || #searchValue# || '%' )
			</isEqual>
		</dynamic>
	</select>
	
	<select id="getGenParamByGenParamId" resultClass="general.GeneralParamBean" parameterClass="java.lang.String">
	select
		GEN_PARAM_ID 			as genParamId,
		GEN_PARAM_DESC 			as genParamDesc,
		GEN_PARAM_VALUE 		as genParamValue,
		IS_ACTIVE 				as isActive
		from general_parameter 
		where gen_param_id = #tmpGenParamId#
	</select>

	<insert id="insertGenParam" parameterClass="general.GeneralParamBean">
		insert into
		general_parameter (GEN_PARAM_ID, GEN_PARAM_DESC,
		GEN_PARAM_VALUE,
		IS_ACTIVE) values (#genParamId#, #genParamDesc#, #genParamValue#,
		#isActive#)
	</insert>

	<update id="updateGenParam" parameterClass="general.GeneralParamBean">
		update
		general_parameter set
		GEN_PARAM_DESC = #genParamDesc#,
		GEN_PARAM_VALUE =
		#genParamValue#,
		IS_ACTIVE = #isActive#
		where GEN_PARAM_ID =
		#genParamId#
	</update>
	<delete id="deleteGenParam" parameterClass="java.lang.String">
		delete from
		general_parameter where gen_param_id = #genParamId#
	</delete>
</sqlMap>